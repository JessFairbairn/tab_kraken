<template id="tab-item-list-template" class="cool-list">
    <style>

        :root, li {
            padding: 0.25em 0.5em ;
            margin-bottom: 0.25em;
        }


        /* .cool-list li:nth-child(odd) {
            background-color: var(--group-background-colour);
        } */

        .cool-list > li, .cool-list > .tab-item {
            /* background-color: var(--alternate-row-colour); */
            background-color: var(--group-background-colour);
        }

        .cool-list ul > li {
            background-color: var(--alternate-row-colour);
        }


        :host {
            /* min-width: 30em;
            width: 30em; */
            min-width: 0.25vw;
            max-width: 450px;
            display: block;
            
            padding: 0.5em;
        }

        ul {
            list-style: none;
            margin: 0;
        }

       .flex-bar {
            display: flex;
            justify-content: space-between;
        }

        .flex-bar {
            padding-top: 0.25em;
            padding-bottom: 0.25em;
            padding-right: 0.5em;
        }

        .flex-bar > button, .flex-bar > a {
            display: inline-flex;
            align-items: center;
            flex-direction: row;
            border: 0;
            background-color: lightgrey;
            text-decoration: none;
            color: black;
            padding: 1px 4px 1px 4px;

            /* display:block;
            line-height: 200%; */
        }

        #context-button {
            position: relative;
        }

        #context-button > span {
            line-height: 0;
        }

        #closeAllButton > span {
            line-height: 1ex;
        }

        #tab-list li {
            background-color: var(--alternate-row-colour);
        }

        #tab-list li slot[name="description"] {
            font-style: italic;
        }
        #tab-list li .indicator-wrapper {
            margin-left: auto;
            margin-right: 0.5em;
        }

        #tab-list.collapsed {
            display: none;
        }
        #context-button {
            margin-left: auto;
        }
        #collapseButton {
            margin-left: 1em;
            margin-right: 1em;
            padding-top: 2px; /*not super important but makes the chevron not too high*/
        }

        #menuWrapper {
            position: relative;
        }

        menu {
            display: none;
            background-color: grey;
            padding: 1px;
            z-index: 1;
            top: 3px;
        }

        menu > li {
            padding: 0;
            margin-bottom: 2px;
            list-style: none;
        }

        menu > li:last-child {
            margin-bottom: initial;
        }
        menu button {
            border: 0;
            padding: 0.5em;
            min-width: 10em;
        }

        #context-button:active~menu, menu:focus-within, menu.visible {
            display: block;
            position: absolute;
        }

        .clickable {
            cursor: pointer;
        }

        .clickable:hover .label-wrapper{
            text-decoration: underline;
        }

        .indicator-wrapper * {
            display: block;
            height: 1.2em;
        }
    </style>
    <div class="flex-bar"><slot></slot>: <slot name="number"></slot>
        <button id="context-button" href="#" aria-controls="contextMenu" title="Show more options">
            <span aria-hidden="true">⋯</span>
        </button>
        <div id="menuWrapper">
            <menu id="contextMenu" role="menu">
                <li><button id="close-all-including-hidden-button" role="menuitem">
                    Close all including hidden
                </button></li>
            </menu>
        </div>
        <button
        id="collapseButton"
        title="Toggle list of tabs in category"
        aria-controls="tab-list">
            <img src="../icons/chevron-up.svg" aria-hidden="true"/>
        </button>
        <button id="closeAllButton" title="Close all tabs in category">
            <span aria-hidden="true">✖</span>
        </button>
    </div>
    <ul id="tab-list"></ul>
</template>

<template id="tab-item-template" class="flex-bar">
    <span class="label-wrapper">
        <slot></slot> <slot name="description"></slot>
    </span>
    <span class="indicator-wrapper"></span>
    <button title="Close tab"><span aria-hidden="true">✖</span></button>
</template>